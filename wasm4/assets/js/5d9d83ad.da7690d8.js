(self.webpackChunksite=self.webpackChunksite||[]).push([[6196],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return u},kt:function(){return d}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),m=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=m(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=m(n),d=i,h=p["".concat(s,".").concat(d)]||p[d]||c[d]||r;return n?a.createElement(h,o(o({ref:t},u),{},{components:n})):a.createElement(h,o({ref:t},u))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var m=2;m<r;m++)o[m]=n[m];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},4918:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return m},toc:function(){return u},default:function(){return p}});var a=n(2122),i=n(9756),r=(n(7294),n(3905)),o=["components"],l={},s="Distribution",m={unversionedId:"guides/distribution",id:"guides/distribution",isDocsHomePage:!1,title:"Distribution",description:"Bundle to HTML",source:"@site/docs/guides/distribution.md",sourceDirName:"guides",slug:"/guides/distribution",permalink:"/wasm4/docs/guides/distribution",editUrl:"https://github.com/aduros/wasm4/edit/main/site/docs/guides/distribution.md",version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Multiplayer",permalink:"/wasm4/docs/guides/multiplayer"},next:{title:"Functions",permalink:"/wasm4/docs/reference/functions"}},u=[{value:"Bundle to HTML",id:"bundle-to-html",children:[]},{value:"Bundle to Windows/Mac/Linux executable",id:"bundle-to-windowsmaclinux-executable",children:[]},{value:"Publish on wasm4.org",id:"publish-on-wasm4org",children:[]}],c={toc:u};function p(e){var t=e.components,n=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"distribution"},"Distribution"),(0,r.kt)("h2",{id:"bundle-to-html"},"Bundle to HTML"),(0,r.kt)("p",null,"When you're ready to distribute your game, you can bundle it into a standalone HTML file with ",(0,r.kt)("inlineCode",{parentName:"p"},"w4 bundle"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'w4 bundle cart.wasm --title "My Game" --html my-game.html\n')),(0,r.kt)("p",null,"The bundled HTML contains no external dependencies, works offline, and can be easily shared on sites like ",(0,r.kt)("a",{parentName:"p",href:"https://itch.io/"},"itch.io"),"."),(0,r.kt)("p",null,"For saving disks, the localStorage key used will be based on the game title you supply.\nAlternatively, you can specify a localStorage key prefix manually with ",(0,r.kt)("inlineCode",{parentName:"p"},"--html-disk-prefix <prefix>"),".\nThis is useful to prevent disk conflicts between games."),(0,r.kt)("p",null,"You can customize the generated HTML file by giving a ",(0,r.kt)("a",{parentName:"p",href:"https://mustache.github.io/"},"Mustache")," template file with option ",(0,r.kt)("inlineCode",{parentName:"p"},"--html-template <file>"),".\nExample of a template file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<!doctype html>\n<html lang="en">\n<head>\n  <meta charset="utf-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">\n  {{#html.metadata}}\n  <meta name="{{name}}" content="{{content}}">\n  {{/html.metadata}}\n  {{#html.description}}\n  <meta name="description" content="{{html.description}}">\n  {{/html.description}}\n  {{#html.iconUrl}}\n  <link rel="shortcut icon" href="{{html.iconUrl}}">\n  {{/html.iconUrl}}\n  {{#html.diskPrefix}}\n  <script id="wasm4-disk-prefix" type="text/plain">{{{html.diskPrefix}}}<\/script>\n  {{/html.diskPrefix}}\n  <title>{{html.title}}</title>\n  <style>{{{html.wasm4Css}}}</style>\n</head>\n<body>\n  <script id="wasm4-cart-json" type="application/json">{{{html.wasmCartJson}}}<\/script>\n  <script>{{{html.wasm4js}}}<\/script>\n  <wasm4-app></wasm4-app>\n</body>\n</html>\n')),(0,r.kt)("h2",{id:"bundle-to-windowsmaclinux-executable"},"Bundle to Windows/Mac/Linux executable"),(0,r.kt)("p",null,"Native executables for multiple platforms can also be bundled:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'w4 bundle cart.wasm --title "My Game" \\\n    --windows my-game-windows.exe \\\n    --mac my-game-mac \\\n    --linux my-game-linux\n')),(0,r.kt)("p",null,"This creates tiny (~200 KB) executables that run natively, no web browser required! The disk\nfile (in case your game uses them) will be saved as ",(0,r.kt)("inlineCode",{parentName:"p"},"<game>.disk")," in the same directory as your game."),(0,r.kt)("h2",{id:"publish-on-wasm4org"},"Publish on wasm4.org"),(0,r.kt)("p",null,"Send a PR on Github to feature your game on the site!"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Fork the ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/aduros/wasm4"},"wasm4 repository"),"."),(0,r.kt)("li",{parentName:"ol"},"Choose an unused ID that will be used for your game URL. For example, ",(0,r.kt)("inlineCode",{parentName:"li"},"my-game")," will be playable\nat ",(0,r.kt)("a",{parentName:"li",href:"https://wasm4.org/play/my-game"},"https://wasm4.org/play/my-game"),"."),(0,r.kt)("li",{parentName:"ol"},"In the ",(0,r.kt)("inlineCode",{parentName:"li"},"/site/static/carts")," directory, add 3 new files:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"my-game.wasm"),": The cart file."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"my-game.png"),": A 160x160 screenshot. You can take a screenshot by pressing F9 in the emulator."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"my-game.md"),": Your game's manual, contains metadata and other info for your players.")))),(0,r.kt)("p",null,"The manual is a\n",(0,r.kt)("a",{parentName:"p",href:"https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax"},"Markdown"),"\ndocument that should be in this format:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-md"},"---\nauthor: (Your name or username)\ngithub: (Your github username, used to show a profile pic)\ndate: (When the cart was last updated, in YYYY-MM-DD format)\n---\n\n# (Your game's title)\n\nAdditional info can go here. It will be displayed on your game's page.\n")),(0,r.kt)("p",null,"Now just commit your changes and open a pull request! As soon as it's merged, your game will appear\non the site."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Licensing")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Carts on wasm4.org are protected under ",(0,r.kt)("a",{parentName:"p",href:"https://creativecommons.org/licenses/by-nc-sa/4.0/"},"Creative Commons BY-NC-SA"),". As the license holder, you can also release your cart elsewhere under a different license, such as open source on GitHub."))))}p.isMDXComponent=!0}}]);